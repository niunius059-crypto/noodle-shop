<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>å®¿èˆæ³¡é¢ä¸‹å• - æ³¡é¢é€Ÿé€’</title>
<style>
  :root {
    --yellow: #facc15;
    --yellow-dark: #eab308;
    --bg-start: #fff7d6;
    --bg-end: #fde68a;
    --radius-lg: 16px;
    --radius-sm: 8px;
    --text-main: #1f2937;
    --text-dim: #6b7280;
    --card-bg: #fff;
    --border: rgba(0,0,0,.08);
    --shadow: 0 18px 40px rgba(0,0,0,.12);
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",Inter,system-ui,sans-serif;
  }
  body {
    margin:0;
    background: radial-gradient(circle at 20% 20%, var(--bg-start) 0%, transparent 60%), radial-gradient(circle at 80% 0%, #fff 0%, transparent 60%), linear-gradient(160deg,var(--bg-start) 0%,var(--bg-end) 100%);
    color:var(--text-main);
    padding:1rem 1rem 5rem;
    max-width:480px;
    margin-left:auto;
    margin-right:auto;
  }
  header{
    background:var(--yellow);
    color:#000;
    font-weight:600;
    text-align:center;
    font-size:1.3rem;
    padding:.9rem 1rem;
    border-radius:var(--radius-lg);
    box-shadow:0 10px 30px rgba(250,204,21,.4);
    margin-bottom:1rem;
  }
  .notice{
    font-size:.8rem;
    line-height:1.4;
    color:#444;
    background:#fff;
    border-radius:var(--radius-lg);
    border:1px solid var(--border);
    padding:.75rem .9rem;
    box-shadow:var(--shadow);
    margin-bottom:1rem;
  }
  .menu-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
    gap:1rem;
  }
  .food-card{
    background:var(--card-bg);
    border-radius:var(--radius-lg);
    box-shadow:var(--shadow);
    border:1px solid var(--border);
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }
  .food-img{
    width:100%;
    height:100px;
    object-fit:cover;
    background:#000;
  }
  .food-body{
    padding:.75rem .9rem;
    flex:1;
  }
  .food-title{
    margin:0;
    font-size:.95rem;
    font-weight:600;
    line-height:1.3;
    color:#111;
    display:flex;
    justify-content:space-between;
    flex-wrap:wrap;
  }
  .food-desc{
    margin:.4rem 0 .6rem;
    font-size:.75rem;
    line-height:1.4;
    color:var(--text-dim);
    min-height:2.8em;
  }
  .select-btn{
    border:0;
    width:100%;
    background:var(--yellow);
    color:#000;
    font-weight:600;
    border-radius:var(--radius-sm);
    padding:.5rem .75rem;
    font-size:.8rem;
    cursor:pointer;
  }
  .select-btn:active{ background:var(--yellow-dark); }

  form{
    background:#fff;
    border-radius:var(--radius-lg);
    border:1px solid var(--border);
    box-shadow:var(--shadow);
    margin-top:1.5rem;
    padding:1rem 1rem 1.25rem;
  }
  form h2{
    margin:0 0 .75rem;
    font-size:1rem;
    font-weight:600;
    text-align:center;
  }
  label{
    font-size:.8rem;
    font-weight:500;
    display:block;
    margin-top:.75rem;
    margin-bottom:.3rem;
    color:#111;
  }
  input,textarea,select{
    width:100%;
    border:1px solid #d1d5db;
    border-radius:var(--radius-sm);
    font-size:.9rem;
    padding:.6rem .6rem;
    outline:none;
  }
  input:focus,textarea:focus,select:focus{
    border-color:var(--yellow-dark);
    box-shadow:0 0 0 3px rgba(250,204,21,.4);
  }
  .inline-row{
    display:flex;
    gap:.5rem;
  }
  .inline-row>div{flex:1;}

  .submit-btn{
    margin-top:1rem;
    width:100%;
    background:var(--yellow);
    border:none;
    padding:.8rem;
    border-radius:var(--radius-sm);
    font-weight:600;
    cursor:pointer;
    font-size:1rem;
    color:#000;
  }
  .submit-btn:active{ background:var(--yellow-dark); }

  .success-box{
    display:none;
    margin-top:1rem;
    background:#ecfccb;
    border:1px solid #84cc16;
    color:#365314;
    font-size:.8rem;
    line-height:1.4;
    padding:.75rem .9rem;
    border-radius:var(--radius-sm);
  }

  footer{
    text-align:center;
    font-size:.7rem;
    color:#777;
    margin-top:2rem;
    line-height:1.4;
  }
  footer a{
    color:#000;
    font-weight:600;
    text-decoration:none;
  }

</style>
</head>
<body>

<header>ğŸœ æ³¡é¢é€Ÿé€’ Â· å®¿èˆç°æ³¡ç°é€</header>

<div class="notice">
  <strong>çœŸÂ·å®¿èˆé€Ÿé€’ï¼š</strong><br/>
  æˆ‘ç°åœºå¸®ä½ æ³¡é¢ï¼Œ3ï½5åˆ†é’Ÿèµ·é£ï¼Œé€åˆ°ä½ å®¿èˆé—¨å£ã€‚<br/>
  å…ˆä¸‹å•ï¼Œç­‰æˆ‘ç§èŠç¡®è®¤æ‰ç®—æœ‰æ•ˆè®¢å•ï¼ˆé¿å…æˆ‘åœ¨ä¸Šè¯¾ï¼‰ã€‚
</div>

<section class="menu-grid">
  <div class="food-card">
    <img class="food-img" src="https://images.unsplash.com/photo-1617196039924-9b0e376b5d2b" alt="çº¢çƒ§ç‰›è‚‰é¢" />
    <div class="food-body">
      <p class="food-title">
        <span>åº·å¸ˆå‚… çº¢çƒ§ç‰›è‚‰é¢</span>
        <span style="font-size:.8rem;color:#be123c;font-weight:600;">ï¿¥5</span>
      </p>
      <p class="food-desc">ç»å…¸å£å‘³ï¼Œæ±¤æµ“ã€‚æ¨èåŠ ç«è…¿è‚ +1å…ƒã€‚</p>
      <button class="select-btn" onclick="pick('åº·å¸ˆå‚… çº¢çƒ§ç‰›è‚‰é¢',5)">ç‚¹è¿™ä¸ª</button>
    </div>
  </div>

  <div class="food-card">
    <img class="food-img" src="https://images.unsplash.com/photo-1623428187969-5e4e479d8d35" alt="é…¸èœç‰›è‚‰é¢" />
    <div class="food-body">
      <p class="food-title">
        <span>ç»Ÿä¸€ è€å›é…¸èœç‰›è‚‰é¢</span>
        <span style="font-size:.8rem;color:#be123c;font-weight:600;">ï¿¥5</span>
      </p>
      <p class="food-desc">é…¸é…¸çˆ½çˆ½ï¼Œä¸è…»ï¼Œå¤œå®µäººæ°”æ¬¾ã€‚</p>
      <button class="select-btn" onclick="pick('ç»Ÿä¸€ è€å›é…¸èœç‰›è‚‰é¢',5)">ç‚¹è¿™ä¸ª</button>
    </div>
  </div>

  <div class="food-card">
    <img class="food-img" src="https://images.unsplash.com/photo-1629719009535-1a5d3a0b13a2" alt="å¤§éª¨é¢" />
    <div class="food-body">
      <p class="food-title">
        <span>ç™½è±¡ å¤§éª¨é¢</span>
        <span style="font-size:.8rem;color:#be123c;font-weight:600;">ï¿¥4</span>
      </p>
      <p class="food-desc">æµ“åšéª¨æ±¤å‘³ï¼Œæ€§ä»·æ¯”ä¹‹ç‹ã€‚</p>
      <button class="select-btn" onclick="pick('ç™½è±¡ å¤§éª¨é¢',4)">ç‚¹è¿™ä¸ª</button>
    </div>
  </div>
</section>

<form id="orderForm">
  <h2>å¡«å†™è®¢å•ä¿¡æ¯</h2>

  <label>æ³¡é¢æ¬¾å¼</label>
  <input id="noodle" required placeholder="ä¸Šé¢ç‚¹å‡»é€‰æ‹©è‡ªåŠ¨å¡«" readonly />

  <label>ä»·æ ¼ (Â¥)</label>
  <input id="price" required readonly />

  <div class="inline-row">
    <div>
      <label>æ¥¼å·</label>
      <input id="building" placeholder="ä¾‹ï¼š1å·æ¥¼" required />
    </div>
    <div>
      <label>å¯å®¤</label>
      <input id="room" placeholder="305" required />
    </div>
  </div>

  <label>å£å‘³/åŠ æ–™å¤‡æ³¨</label>
  <textarea id="note" rows="3" placeholder="è¦ä¸è¦åŠ è‚ ï¼Ÿè¦ä¸è¦åŠ è¾£ï¼Ÿè¦ä¸è¦å°‘æ°´ï¼Ÿ"></textarea>

  <label>è”ç³»ï¼ˆå¾®ä¿¡/QQï¼‰</label>
  <input id="contact" placeholder="æˆ‘ä¼šåŠ ä½ æˆ–ç§èŠä½ " required />

  <label>ç°åœ¨æ˜¯ï¼Ÿ</label>
  <select id="timeSlot" required>
    <option value="">è¯·é€‰æ‹©æ—¶é—´æ®µ</option>
    <option>æˆ‘ç°åœ¨å°±é¥¿äº†ï¼ˆä¼˜å…ˆï¼‰</option>
    <option>ä¸‹è¯¾åé€ï¼ˆå¤§æ¦‚20-30åˆ†é’Ÿå†…ï¼‰</option>
    <option>å®¿èˆé‡Œ/æ…¢æ…¢æ¥</option>
  </select>

  <button class="submit-btn" type="submit">æäº¤è®¢å•</button>

  <div class="success-box" id="successBox">
    è®¢å•å·²æäº¤ï¼æˆ‘ä¼šç§èŠä½ ç¡®è®¤ã€‚
  </div>
</form>

<footer>
  <div>ğŸšš ä»…é™æœ¬æ ¡åŒºï¼ˆé«˜å¯†æ ¡åŒºï¼‰å®¿èˆèŒƒå›´å†…</div>
  <div>ğŸ“± è”ç³»æˆ‘ï¼šå¾®ä¿¡ / QQ (ä¸‹å•ä¼šçœ‹åˆ°)</div>
  <div style="margin-top:.5rem;">ç®¡ç†å…¥å£ï¼ˆè€æ¿ä¸“ç”¨ï¼‰ï¼š<br/>
    <a href="admin.html">admin.html</a>
  </div>
</footer>

<script>
  // ç”Ÿæˆå”¯ä¸€ID
  function generateOrderId(){
    const now = Date.now();
    const rand = Math.floor(Math.random()*1000);
    return "ORD-"+now+"-"+rand;
  }

  // ç”¨æˆ·é€‰æ‹©æ³¡é¢
  function pick(name, price){
    document.getElementById('noodle').value = name;
    document.getElementById('price').value = price;
    window.scrollTo({top:document.getElementById('orderForm').offsetTop,behavior:'smooth'});
  }

  // æŠŠè®¢å•å­˜è¿› localStorage
  function saveOrder(order){
    const raw = localStorage.getItem('noodleOrders');
    let list = [];
    if(raw){
      try{ list = JSON.parse(raw); }catch(e){ list = []; }
    }
    list.push(order);
    localStorage.setItem('noodleOrders', JSON.stringify(list));
  }

  document.getElementById('orderForm').addEventListener('submit', function(e){
    e.preventDefault();

    const noodle   = document.getElementById('noodle').value.trim();
    const price    = document.getElementById('price').value.trim();
    const building = document.getElementById('building').value.trim();
    const room     = document.getElementById('room').value.trim();
    const note     = document.getElementById('note').value.trim();
    const contact  = document.getElementById('contact').value.trim();
    const timeSlot = document.getElementById('timeSlot').value.trim();

    if(!noodle || !price || !building || !room || !contact || !timeSlot){
      alert("è¯·æŠŠä¿¡æ¯å¡«å®Œæ•´ ğŸ™");
      return;
    }

    const order = {
      id: generateOrderId(),
      noodle,
      price,
      building,
      room,
      note,
      contact,
      timeSlot,
      status: "å¾…ç¡®è®¤", // å¾…ç¡®è®¤ / å·²æ¥å— / é€é¢ä¸­ / å·²é€è¾¾ / å–æ¶ˆ
      createdAt: new Date().toLocaleString()
    };

    saveOrder(order);

    // æ¸…ç©ºè¡¨å• + æ˜¾ç¤ºæˆåŠŸæç¤º
    document.getElementById('orderForm').reset();
    document.getElementById('successBox').style.display = 'block';

    // ä½ ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè‡ªåŠ¨è·³è½¬åˆ°å¾®ä¿¡ç§èŠåè®® / QQç§èŠåè®®
    // ä¾‹å¦‚ï¼š window.location.href = "weixin://dl/chat?sun_yubo"
    // æˆ–è€… "mqqwpa://im/chat?chat_type=wpa&uin=QQå·"
    // æ³¨æ„ï¼šè¿™äº›åªåœ¨æ‰‹æœºç«¯ç”Ÿæ•ˆï¼ŒPCæµè§ˆå™¨å¯èƒ½ä¸ä¼šæ‰“å¼€ã€‚
  });
</script>

</body>
</html>
